<!-- Left menu -->
<div class="menu">
	<!-- Items -->
	<div class="menu-item"><span class="fa fa-th fa-lg"></span>All</div>
	<div class="menu-item"><span class="fa fa-star fa-lg"></span>Starred</div>
	<div class="menu-item"><span class="fa fa-users fa-lg"></span>Grouped</div>
	<div class="menu-item"><span class="fa fa-question fa-lg"></span>Ungrouped</div>
	<div class="menu-separator"></div>
	<div class="menu-item"><span class="fa fa-users fa-lg"></span>Friends</div>
	<div class="menu-item"><span class="fa fa-home fa-lg"></span>Family</div>
	<div class="menu-item"><span class="fa fa-briefcase fa-lg"></span>Work</div>
	<div class="menu-separator"></div>
	<div class="menu-item"><span class="fa fa-trash fa-lg"></span>Trash</div>
	<!-- Sync status -->
	<div class="menu-bottom">
		<div id="menu-sync">
			<div ng-show="$root.syncStatus == 'syncing'" ng-click="$root.syncStatus = 'stopped'"><span class="fa fa-refresh fa-lg"></span>Syncing</div>
			<div ng-show="$root.syncStatus == 'synced'" ng-click="$root.syncStatus = 'stopped'"><span class="fa fa-check fa-lg"></span>Synced</div>
			<div ng-show="$root.syncStatus == 'error'" ng-click="$root.syncStatus = 'stopped'"><span class="fa fa-warning fa-lg"></span>Sync error</div>
			<div ng-show="$root.syncStatus == 'stopped'" ng-click="$root.syncStatus = 'syncing'"><span class="fa fa-warning fa-lg"></span>Sync stopped</div>
		</div>
	</div>
</div>


<div class="contacts" ng-if="(contacts | filter:$root.search).length > 0 && !loading">
	<div class="contact" ng-repeat="contact in contacts | filter:$root.search">
		<!-- Menu -->
		<div class="edit-menu">
			<div class="edit fa fa-lg fa-pencil"></div>
			<div class="ok fa fa-lg fa-check"></div>
		</div>
		<!-- Common data -->
		<img class="image" ng-src="{{contact.image || 'images/user.png'}}">
		<div class="name">
			<span>{{contact.firstName}} {{contact.lastName}}</span>
			<input type="text" ng-model="contact.firstName" placeholder="Firstname" ng-keydown="fieldKeyListener($event, contact);" />
			<input type="text" ng-model="contact.lastName" placeholder="Lastname" ng-keydown="fieldKeyListener($event, contact);" />
		</div>
		<!-- Samples -->
		<div class="sample-mail">{{contact.mails[0].address}} <span ng-if="contact.mails.length > 1">(+{{contact.mails.length -1}})</span></div>
		<div class="sample-phone">{{contact.phones[0].number}} <span ng-if="contact.phones.length > 1">(+{{contact.phones.length -1}})</span></div>
		<div class="sample-address">{{contact.addresses[0] | formatInlineAddress}} <span ng-if="contact.addresses.length > 1">(+{{contact.addresses.length -1}})</span></div>
		<div class="sample-note">{{contact.note}}</div>
		<!-- Full data -->
		<hr>
		<div class="full-mails">
			<div class="mail" ng-repeat="mail in contact.mails">
				<div class="fa fa-lg fa-envelope"></div>
				<div class="mail-show"><a ng-href="mailto:{{mail.address}}">{{mail.address}}</a></div>
				<div class="mail-edit"><input type="text" ng-model="mail.address" placeholder="E-mail" ng-keydown="fieldKeyListener($event, contact);" /></div>
			</div>
		</div>
		<div class="full-phones">
			<div class="phone" ng-repeat="phone in contact.phones">
				<div class="fa fa-lg"  ng-class="{'fa-phone': phone.type=='home', 'fa-building': phone.type=='work', 'fa-mobile': phone.type=='cell', 'fa-fax': phone.type=='fax', 'fa-bell': phone.type=='pager'}"></div><input type="text" ng-model="phone.number" placeholder="Phone number" ng-keydown="fieldKeyListener($event, contact);" />
			</div>
		</div>
		<div class="full-addresses">
			<div class="address" ng-repeat="address in contact.addresses">
				<div class="fa fa-lg" ng-class="{'fa-home': address.type=='home', 'fa-building': address.type=='work'}"></div>
				<div class="address-show">
					{{address.street}} {{address.number}}<br>
					{{address.postalCode}} {{address.locality}}<br>
					{{address.country}}
				</div>
				<div class="address-edit">
					<input type="text" ng-model="address.street" placeholder="Street" ng-keydown="fieldKeyListener($event, contact);" />
					<input type="text" ng-model="address.number" placeholder="Number" ng-keydown="fieldKeyListener($event, contact);" />
					<br>
					<input type="text" ng-model="address.postalCode" placeholder="Zip" ng-keydown="fieldKeyListener($event, contact);" />
					<input type="text" ng-model="address.locality" placeholder="City" ng-keydown="fieldKeyListener($event, contact);" />
					<br>
					<input type="text" ng-model="address.country" placeholder="Country" ng-keydown="fieldKeyListener($event, contact);" />
				</div>
			</div>
		</div>
		<div class="full-info">
			<div class="birthday">
				<div class="fa fa-lg fa-birthday-cake"></div><input type="text" ng-model="contact.birthday" placeholder="BirthDay" ng-keydown="fieldKeyListener($event, contact);" />
			</div>
			<div class="website">
				<div class="fa fa-lg fa-globe"></div>
				<div class="website-show"><a ng-href="{{contact.url}}" target="_blank">{{contact.url}}</a></div>
				<div class="website-edit"><input type="text" ng-model="contact.url" placeholder="Website" ng-keydown="fieldKeyListener($event, contact);" /></div>
			</div>
			<div class="public-key">
				<div class="fa fa-lg fa-key"></div><input type="text" ng-model="contact.pubKey" placeholder="Public Key" ng-keydown="fieldKeyListener($event, contact);" />
			</div>
		</div>
	</div>
</div>

<!-- No contacts message -->
<div ng-if="(contacts | filter:$root.search).length === 0 && !loading" id="nothing-message">No contacts here...</div>


<!-- Bottom add menu -->
<div id="add-menu">
	<div><div class="fa fa-plus" ng-click="$parent.toggleAddMenu($event)"></div></div>
	<div><span>Import/export</span><div class="fa fa-cloud-upload" ng-click=""></div></div>
	<div><span>New group</span><div class="fa fa-users" ng-click=""></div></div>
	<div><span>New contact</span><div class="fa fa-user" ng-click=""></div></div>
</div>